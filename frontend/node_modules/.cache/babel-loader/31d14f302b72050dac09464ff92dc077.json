{"ast":null,"code":"import _classCallCheck from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/augustusrizza/javascript_projects/blog/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Navbar from './Navbar';\nimport Main from './Main';\nimport Post from './Post';\nimport Signup from './Signup';\nimport Signin from './Signin';\nimport Analytics from './Analytics';\nimport getUserIP from \"./analytics_fn\";\nimport CreatePost from \"./CreatePost\";\nimport keys from \"./lib/key\";\nimport env from \"./env\";\nimport auth from \",/env\";\nimport './assets/css/uikit.css';\n\nDate.prototype.addDays = function (days) {\n  var date = new Date(this.valueOf());\n  date.setDate(date.getDate() + days);\n  return date;\n};\n\nif (localStorage.getItem(\"user-signed-in\") === null) {\n  localStorage.setItem(\"user-signed-in\", false);\n}\n\nfunction uuidv4() {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n    return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);\n  });\n}\n\nif (localStorage.getItem(\"uuid-analytics\") === null) {\n  localStorage.setItem(\"uuid-analytics\", uuidv4());\n}\n\nfunction analytics() {\n  var doccookies = document.cookie.split(\"=\");\n  var doneAnalytics = doccookies[doccookies.indexOf(\"uuid-analytics\") + 1];\n\n  if (!doneAnalytics) {\n    getUserIP(function (ip) {\n      var a = {\n        \"uuid\": localStorage.getItem(\"uuid-analytics\"),\n        \"datetime\": new Date(),\n        \"username\": localStorage.getItem(\"username\"),\n        \"location\": ip\n      };\n      fetch(\"\".concat(env.getCurrent().api, \"insert_analytics\"), {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: \"POST\",\n        body: JSON.stringify({\n          \"client_api_key\": keys.blog_post_api_key,\n          \"a\": a\n        })\n      }).then(function (Response) {\n        Response.json().then(function (res) {\n          res = JSON.parse(res);\n\n          if (res.type === \"sucsess\") {\n            document.cookie = \"sent_analytics=true; expires=\" + new Date().addDays(1);\n          }\n        });\n      });\n    });\n  }\n}\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      DOMloaded: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        DOMloaded: true\n      });\n      analytics();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.DOMloaded) {\n        return React.createElement(Router, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(Navbar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/\",\n          exact: true,\n          component: Main,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/signup\",\n          exact: true,\n          component: Signup,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/signin\",\n          exact: true,\n          component: Signin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/createpost\",\n          exact: true,\n          component: CreatePost,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/dashboard/analytics\",\n          exact: true,\n          component: Analytics,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/post/:id\",\n          component: Post,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        })));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App uk-transition-toggle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          \"uk-spinner\": \"ratio: 6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        })));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/augustusrizza/javascript_projects/blog/frontend/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Navbar","Main","Post","Signup","Signin","Analytics","getUserIP","CreatePost","keys","env","auth","Date","prototype","addDays","days","date","valueOf","setDate","getDate","localStorage","getItem","setItem","uuidv4","replace","c","crypto","getRandomValues","Uint8Array","toString","analytics","doccookies","document","cookie","split","doneAnalytics","indexOf","ip","a","fetch","getCurrent","api","headers","method","body","JSON","stringify","blog_post_api_key","then","Response","json","res","parse","type","App","props","state","DOMloaded","setState"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {BrowserRouter as Router, Route} from \"react-router-dom\";\n\nimport Navbar from './Navbar';\nimport Main from './Main';\nimport Post from './Post';\nimport Signup from './Signup';\nimport Signin from './Signin';\nimport Analytics from './Analytics';\nimport getUserIP from \"./analytics_fn\";\nimport CreatePost from \"./CreatePost\";\nimport keys from \"./lib/key\";\nimport env from \"./env\";\nimport auth from \",/env\";\nimport './assets/css/uikit.css';\n\nDate.prototype.addDays = function (days) {\n  var date = new Date(this.valueOf());\n  date.setDate(date.getDate() + days);\n  return date;\n}\n\nif (localStorage.getItem(\"user-signed-in\") === null) {\n  localStorage.setItem(\"user-signed-in\", false);\n}\n\nfunction uuidv4() {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16))\n}\n\nif (localStorage.getItem(\"uuid-analytics\") === null) {\n  localStorage.setItem(\"uuid-analytics\", uuidv4());\n}\n\nfunction analytics() {\n  let doccookies = document\n    .cookie\n    .split(\"=\");\n  let doneAnalytics = doccookies[doccookies.indexOf(\"uuid-analytics\") + 1]\n  if (!doneAnalytics) {\n    getUserIP(function (ip) {\n      let a = {\n        \"uuid\": localStorage.getItem(\"uuid-analytics\"),\n        \"datetime\": new Date(),\n        \"username\": localStorage.getItem(\"username\"),\n        \"location\": ip\n      }\n      fetch(`${env.getCurrent().api}insert_analytics`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: \"POST\",\n        body: JSON.stringify({\"client_api_key\": keys.blog_post_api_key, \"a\": a})\n\n      }).then(Response => {\n        Response\n          .json()\n          .then(res => {\n            res = JSON.parse(res)\n            if (res.type === \"sucsess\") {\n              document.cookie = \"sent_analytics=true; expires=\" + new Date().addDays(1);\n            }\n          })\n      });\n    });\n  }\n\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      DOMloaded: false\n    }\n  }\n  componentDidMount() {\n    this.setState({DOMloaded: true})\n    analytics();\n  }\n  render() {\n    if (this.state.DOMloaded) {\n      return (\n        <Router>\n          <div>\n            <Navbar/>\n            <Route path=\"/\" exact component={Main}/>\n            <Route path=\"/signup\" exact component={Signup}/>\n            <Route path=\"/signin\" exact component={Signin}/>\n            <Route path=\"/createpost\" exact component={CreatePost}/>\n            <Route path=\"/dashboard/analytics\" exact component={Analytics}/>\n            <Route path=\"/post/:id\" component={Post}/>\n          </div>\n        </Router>\n      )\n    } else {\n      return (\n        <div className=\"App uk-transition-toggle\">\n          <center>\n            <span uk-spinner=\"ratio: 6\"></span>\n          </center>\n        </div>\n      )\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}