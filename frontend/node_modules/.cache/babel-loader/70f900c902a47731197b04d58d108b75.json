{"ast":null,"code":"import _classCallCheck from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/augustusrizza/javascript_projects/blog/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/augustusrizza/javascript_projects/blog/frontend/src/Signup.js\";\nimport React, { Component } from 'react';\nimport keys from \"./lib/key\";\nimport env from './env';\nimport encrypt from './encrypt';\n\nvar Signup =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Signup, _Component);\n\n  function Signup(props) {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Signup).call(this, props));\n    _this.handleSignUp = _this.handleSignUp.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.formPreventDefault = _this.formPreventDefault.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEmailCheck = _this.handleEmailCheck.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordCheck = _this.handlePasswordCheck.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUsernameCheck = _this.handleUsernameCheck.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.formChange = _this.formChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"formPreventDefault\",\n    value: function formPreventDefault(event) {\n      event.preventDefault();\n      this.handleSignUp();\n    }\n  }, {\n    key: \"formChange\",\n    value: function formChange() {\n      var username = document.getElementById(\"username\").value.length,\n          email = document.getElementById(\"email\").value.length,\n          password = document.getElementById(\"password\").value.length;\n\n      if (username > 0 && password > 0 && email > 0) {\n        document.getElementById(\"signUp\").removeAttribute(\"disabled\");\n      } else {\n        document.getElementById(\"signUp\").setAttribute(\"disabled\", \"true\");\n      }\n    }\n  }, {\n    key: \"handleUsernameCheck\",\n    value: function handleUsernameCheck() {\n      var usernameInput = document.getElementById(\"username\"),\n          signUpButton = document.getElementById(\"signUp\");\n\n      if (usernameInput.value.length > 0) {\n        fetch(\"\".concat(env.getCurrent().api, \"checkusername/\").concat(usernameInput.value), {\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          method: \"POST\",\n          body: JSON.stringify({\n            \"client_api_key\": keys.blog_post_api_key\n          })\n        }).then(function (response) {\n          response.json().then(function (res) {\n            res = JSON.parse(res);\n\n            if (res.type === \"error\") {\n              usernameInput.classList = \"uk-input uk-form-width-large uk-form-danger\";\n              signUpButton.setAttribute(\"disabled\", \"true\");\n              usernameInput.setAttribute(\"uk-tooltip\", \"title: \".concat(res.response, \"; pos: right\"));\n            } else {\n              signUpButton.removeAttribute(\"disabled\");\n              usernameInput.removeAttribute(\"uk-tooltip\");\n              usernameInput.classList = \"uk-input uk-form-width-large uk-form-primary\";\n            }\n          });\n        });\n      } else {}\n    }\n  }, {\n    key: \"validateEmail\",\n    value: function validateEmail(email) {\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    }\n  }, {\n    key: \"handleEmailCheck\",\n    value: function handleEmailCheck() {\n      var emailInput = document.getElementById(\"email\"),\n          signUpButton = document.getElementById(\"signUp\"),\n          email = emailInput.value;\n\n      if (this.validateEmail(email)) {\n        // check if used\n        fetch(\"\".concat(env.getCurrent().api, \"checkemail/\").concat(email), {\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          method: \"POST\",\n          body: JSON.stringify({\n            \"client_api_key\": keys.blog_post_api_key\n          })\n        }).then(function (response) {\n          response.json().then(function (res) {\n            res = JSON.parse(res);\n\n            if (res.type === \"error\") {\n              emailInput.classList = \"uk-input uk-form-width-large uk-form-danger\";\n              emailInput.setAttribute(\"uk-tooltip\", \"title: \".concat(res.response, \"; pos: right\"));\n            } else {\n              signUpButton.removeAttribute(\"disabled\");\n              emailInput.removeAttribute(\"uk-tooltip\");\n              emailInput.classList = \"uk-input uk-form-width-large uk-form-primary\";\n            }\n          });\n        });\n      } else {\n        signUpButton.setAttribute(\"disabled\", \"true\");\n        emailInput.removeAttribute(\"uk-tooltip\");\n        emailInput.classList = \"uk-input uk-form-width-large uk-form-danger\";\n      }\n    }\n  }, {\n    key: \"isLUN\",\n    value: function isLUN(lun) {\n      var re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n      return re.test(lun);\n    }\n  }, {\n    key: \"isSpecial\",\n    value: function isSpecial(special) {\n      var re = /\\W|_/g;\n      return re.test(special);\n    }\n  }, {\n    key: \"handlePasswordCheck\",\n    value: function handlePasswordCheck() {\n      var password = document.getElementById(\"password\"),\n          length = document.getElementById(\"length\"),\n          lun = document.getElementById(\"lun\"),\n          tod = [false, false, false],\n          signUpButton = document.getElementById(\"signUp\"),\n          special = document.getElementById(\"special\");\n\n      if (password.value.length > 8) {\n        tod[0] = true;\n        length.setAttribute(\"uk-icon\", \"icon : check\");\n      } else {\n        tod[0] = false;\n        length.setAttribute(\"uk-icon\", \"icon : chevron-right\");\n      }\n\n      if (this.isLUN(password.value)) {\n        tod[1] = true;\n        lun.setAttribute(\"uk-icon\", \"icon : check\");\n      } else {\n        tod[1] = false;\n        lun.setAttribute(\"uk-icon\", \"icon : chevron-right\");\n      }\n\n      if (this.isSpecial(password.value)) {\n        tod[2] = true;\n        special.setAttribute(\"uk-icon\", \"icon : check\");\n      } else {\n        tod[2] = false;\n        special.setAttribute(\"uk-icon\", \"icon : chevron-right\");\n      }\n\n      if (tod.every(function (e) {\n        return e === true;\n      })) {\n        signUpButton.removeAttribute(\"disabled\");\n      } else {\n        signUpButton.setAttribute(\"disabled\", \"true\");\n      }\n    }\n  }, {\n    key: \"handleSignUp\",\n    value: function handleSignUp() {\n      var username = document.getElementById(\"username\").value,\n          email = document.getElementById(\"email\").value,\n          password = document.getElementById(\"password\").value,\n          ep = encrypt.create_new_set(password);\n      fetch(\"\".concat(env.getCurrent().api, \"signup\"), {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: \"POST\",\n        body: JSON.stringify({\n          \"client_api_key\": keys.blog_post_api_key,\n          \"new_user\": {\n            \"username\": username,\n            \"email\": email,\n            \"password\": ep.password,\n            \"salt\": ep.salt\n          }\n        })\n      }).then(function (response) {\n        response.json().then(function (res) {\n          res = JSON.parse(res);\n\n          if (res.type === \"sucsess\") {\n            window.location = \"/\";\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"uk-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-card uk-card-default uk-card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"Sign Up\"), React.createElement(\"form\", {\n        onSubmit: this.formPreventDefault,\n        onChange: this.formChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"uk-form-icon\",\n        \"uk-icon\": \"icon: user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"uk-input uk-form-width-large\",\n        id: \"username\",\n        type: \"text\",\n        required: true,\n        onChange: this.handleUsernameCheck,\n        placeholder: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"uk-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"uk-form-icon\",\n        \"uk-icon\": \"icon: user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"uk-input uk-form-width-large\",\n        type: \"text\",\n        id: \"email\",\n        required: true,\n        onChange: this.handleEmailCheck,\n        placeholder: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"uk-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"uk-form-icon uk-form-icon\",\n        \"uk-icon\": \"icon: lock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"uk-input uk-form-width-large\",\n        type: \"password\",\n        id: \"password\",\n        autoComplete: \"off\",\n        required: true,\n        onChange: this.handlePasswordCheck,\n        placeholder: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"uk-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"uk-list uk-link-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"length\",\n        \"uk-icon\": \"chevron-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }), \"password should be atleast 8 characters long\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"lun\",\n        \"uk-icon\": \"chevron-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }), \"password should have a lowercase, uppercase, number\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"special\",\n        \"uk-icon\": \"chevron-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), \"password should have a special character (!@#$%&....)\")))), React.createElement(\"div\", {\n        className: \"uk-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"uk-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"signUp\",\n        type: \"submit\",\n        className: \"uk-input uk-button uk-button-primary uk-form-width-large\",\n        disabled: \"true\",\n        value: \"Sign Up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return Signup;\n}(Component);\n\n;\nexport default Signup;","map":{"version":3,"sources":["/Users/augustusrizza/javascript_projects/blog/frontend/src/Signup.js"],"names":["React","Component","keys","env","encrypt","Signup","props","handleSignUp","bind","formPreventDefault","handleEmailCheck","handlePasswordCheck","handleUsernameCheck","formChange","event","preventDefault","username","document","getElementById","value","length","email","password","removeAttribute","setAttribute","usernameInput","signUpButton","fetch","getCurrent","api","headers","method","body","JSON","stringify","blog_post_api_key","then","response","json","res","parse","type","classList","re","test","emailInput","validateEmail","lun","special","tod","isLUN","isSpecial","every","e","ep","create_new_set","salt","window","location"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport keys from \"./lib/key\";\nimport env from './env';\nimport encrypt from './encrypt';\n\nclass Signup extends Component {\n\n    constructor(props) {\n        super(props)\n        this.handleSignUp = this\n            .handleSignUp\n            .bind(this)\n        this.formPreventDefault = this\n            .formPreventDefault\n            .bind(this)\n        this.handleEmailCheck = this\n            .handleEmailCheck\n            .bind(this)\n        this.handlePasswordCheck = this\n            .handlePasswordCheck\n            .bind(this)\n        this.handleUsernameCheck = this\n            .handleUsernameCheck\n            .bind(this)\n        this.formChange = this\n            .formChange\n            .bind(this)\n    }\n\n    formPreventDefault(event) {\n        event.preventDefault();\n        this.handleSignUp();\n    }\n\n    formChange() {\n        let username = document\n                .getElementById(\"username\")\n                .value\n                .length,\n            email = document\n                .getElementById(\"email\")\n                .value\n                .length,\n            password = document\n                .getElementById(\"password\")\n                .value\n                .length;\n        if (username > 0 && password > 0 && email > 0) {\n            document\n                .getElementById(\"signUp\")\n                .removeAttribute(\"disabled\")\n        } else {\n            document\n                .getElementById(\"signUp\")\n                .setAttribute(\"disabled\", \"true\")\n        }\n    }\n\n    handleUsernameCheck() {\n        let usernameInput = document.getElementById(\"username\"),\n            signUpButton = document.getElementById(\"signUp\")\n        if (usernameInput.value.length > 0) {\n            fetch(`${env.getCurrent().api}checkusername/${usernameInput.value}`, {\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                method: \"POST\",\n                body: JSON.stringify({\"client_api_key\": keys.blog_post_api_key})\n            }).then(response => {\n                response\n                    .json()\n                    .then(res => {\n                        res = JSON.parse(res)\n                        if (res.type === \"error\") {\n                            usernameInput.classList = \"uk-input uk-form-width-large uk-form-danger\"\n                            signUpButton.setAttribute(\"disabled\", \"true\")\n                            usernameInput.setAttribute(\"uk-tooltip\", `title: ${res.response}; pos: right`)\n                        } else {\n                            signUpButton.removeAttribute(\"disabled\")\n                            usernameInput.removeAttribute(\"uk-tooltip\")\n                            usernameInput.classList = \"uk-input uk-form-width-large uk-form-primary\"\n                        }\n                    })\n            })\n        } else {}\n\n    }\n\n    validateEmail(email) {\n        var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(email);\n    }\n\n    handleEmailCheck() {\n        let emailInput = document.getElementById(\"email\"),\n            signUpButton = document.getElementById(\"signUp\"),\n            email = emailInput.value\n        if (this.validateEmail(email)) {\n            // check if used\n            fetch(`${env.getCurrent().api}checkemail/${email}`, {\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                method: \"POST\",\n                body: JSON.stringify({\"client_api_key\": keys.blog_post_api_key})\n            }).then(response => {\n                response\n                    .json()\n                    .then(res => {\n                        res = JSON.parse(res)\n                        if (res.type === \"error\") {\n                            emailInput.classList = \"uk-input uk-form-width-large uk-form-danger\"\n                            emailInput.setAttribute(\"uk-tooltip\", `title: ${res.response}; pos: right`)\n                        } else {\n                            signUpButton.removeAttribute(\"disabled\")\n                            emailInput.removeAttribute(\"uk-tooltip\")\n                            emailInput.classList = \"uk-input uk-form-width-large uk-form-primary\"\n                        }\n                    })\n            })\n        } else {\n            signUpButton.setAttribute(\"disabled\", \"true\")\n            emailInput.removeAttribute(\"uk-tooltip\")\n            emailInput.classList = \"uk-input uk-form-width-large uk-form-danger\"\n        }\n    }\n    isLUN(lun) {\n        var re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/\n        return re.test(lun)\n    }\n    isSpecial(special) {\n        var re = /\\W|_/g\n        return re.test(special)\n    }\n\n    handlePasswordCheck() {\n        let password = document.getElementById(\"password\"),\n            length = document.getElementById(\"length\"),\n            lun = document.getElementById(\"lun\"),\n            tod = [\n                false, false, false\n            ],\n            signUpButton = document.getElementById(\"signUp\"),\n            special = document.getElementById(\"special\");\n\n        if (password.value.length > 8) {\n            tod[0] = true\n            length.setAttribute(\"uk-icon\", \"icon : check\")\n        } else {\n            tod[0] = false\n            length.setAttribute(\"uk-icon\", \"icon : chevron-right\")\n        }\n\n        if (this.isLUN(password.value)) {\n            tod[1] = true\n            lun.setAttribute(\"uk-icon\", \"icon : check\")\n        } else {\n            tod[1] = false\n            lun.setAttribute(\"uk-icon\", \"icon : chevron-right\")\n        }\n\n        if (this.isSpecial(password.value)) {\n            tod[2] = true\n            special.setAttribute(\"uk-icon\", \"icon : check\")\n        } else {\n            tod[2] = false\n            special.setAttribute(\"uk-icon\", \"icon : chevron-right\")\n        }\n        if (tod.every(e => {\n            return e === true\n        })) {\n            signUpButton.removeAttribute(\"disabled\")\n        } else {\n            signUpButton.setAttribute(\"disabled\", \"true\")\n        }\n    }\n    handleSignUp() {\n        let username = document\n                .getElementById(\"username\")\n                .value,\n            email = document\n                .getElementById(\"email\")\n                .value,\n            password = document\n                .getElementById(\"password\")\n                .value,\n            ep = encrypt.create_new_set(password)\n        fetch(`${env.getCurrent().api}signup`, {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            method: \"POST\",\n            body: JSON.stringify({\n                \"client_api_key\": keys.blog_post_api_key,\n                \"new_user\": {\n                    \"username\": username,\n                    \"email\": email,\n                    \"password\": ep.password,\n                    \"salt\": ep.salt\n                }\n            })\n        }).then(response => {\n            response\n                .json()\n                .then(res => {\n                    res = JSON.parse(res)\n                    if (res.type === \"sucsess\") {\n                        window.location = \"/\"\n                    }\n                })\n        })\n\n    }\n\n    render() {\n\n        return (\n            <div className=\"uk-container\">\n                <div className=\"uk-card uk-card-default uk-card-body\">\n                    <h1>Sign Up</h1>\n                    <form onSubmit={this.formPreventDefault} onChange={this.formChange}>\n                        <div className=\"uk-margin\">\n                            <div className=\"uk-inline\">\n                                <span className=\"uk-form-icon\" uk-icon=\"icon: user\"></span>\n                                <input\n                                    className=\"uk-input uk-form-width-large\"\n                                    id=\"username\"\n                                    type=\"text\"\n                                    required\n                                    onChange={this.handleUsernameCheck}\n                                    placeholder=\"username\"/>\n                            </div>\n                        </div>\n                        <div className=\"uk-margin\">\n                            <div className=\"uk-inline\">\n                                <span className=\"uk-form-icon\" uk-icon=\"icon: user\"></span>\n                                <input\n                                    className=\"uk-input uk-form-width-large\"\n                                    type=\"text\"\n                                    id=\"email\"\n                                    required\n                                    onChange={this.handleEmailCheck}\n                                    placeholder=\"email\"/>\n                            </div>\n                        </div>\n                        <div className=\"uk-margin\">\n                            <div className=\"uk-inline\">\n                                <span className=\"uk-form-icon uk-form-icon\" uk-icon=\"icon: lock\"></span>\n                                <input\n                                    className=\"uk-input uk-form-width-large\"\n                                    type=\"password\"\n                                    id=\"password\"\n                                    autoComplete=\"off\"\n                                    required\n                                    onChange={this.handlePasswordCheck}\n                                    placeholder=\"password\"/>\n                            </div>\n                        </div>\n                        <div className=\"uk-margin\">\n                            <div className=\"uk-inline\">\n                                <ul className=\"uk-list uk-link-text\">\n                                    <li>\n                                        <span id=\"length\" uk-icon=\"chevron-right\"></span>\n                                        password should be atleast 8 characters long</li>\n                                    <li>\n                                        <span id=\"lun\" uk-icon=\"chevron-right\"></span>\n                                        password should have a lowercase, uppercase, number\n                                    </li>\n                                    <li>\n                                        <span id=\"special\" uk-icon=\"chevron-right\"></span>\n                                        password should have a special character (!@#$%&....)</li>\n                                </ul>\n                            </div>\n                        </div>\n                        <div className=\"uk-margin\">\n                            <div className=\"uk-inline\">\n                                <input\n                                    id=\"signUp\"\n                                    type=\"submit\"\n                                    className=\"uk-input uk-button uk-button-primary uk-form-width-large\"\n                                    disabled=\"true\"\n                                    value=\"Sign Up\"/>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}